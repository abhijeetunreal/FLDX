<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FLDX — README (Math Notation Enabled)</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.1.0/github-markdown.min.css">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background: #fafbfc; color: #24292e; }
    .container { max-width: 950px; margin: 30px auto; padding: 20px; }
    .markdown-body { box-shadow: 0 2px 12px rgba(0,0,0,0.06); padding: 28px; background: #fff; border-radius: 6px; }
    header .note { font-size: 0.9rem; color: #666; }
  </style>
  <!-- Marked for markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- MathJax with config to allow $...$ inline -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      options: { processHtmlClass: 'markdown-body' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>FLDX — README (Math Notation Enabled)</h1>
      <p class="note">This page renders README.md using <strong>marked.js</strong> and <strong>MathJax</strong> so LaTeX-style math (e.g. $a = b$) will display properly. If you want live rendering for your repo, enable GitHub Pages in the repository settings.</p>
      <hr />
    </header>

    <article id="readme" class="markdown-body"></article>

    <footer style="margin-top: 16px; color: #666; font-size: 0.9rem">
      <p>Raw README source is fetched from the repository; if you host this on GitHub Pages it will work from the repo root.</p>
    </footer>
  </div>

  <script>
    async function loadReadme() {
      const readmeEl = document.getElementById('readme');
      // Attempt a few fallbacks to load the README content:
      const candidates = [
        '../README.md',
        '/README.md',
        'https://raw.githubusercontent.com/abhijeetunreal/FLDX/main/README.md'
      ];

      let content = null;
      for (const url of candidates) {
        try {
          const res = await fetch(url);
          if (!res.ok) continue;
          content = await res.text();
          break;
        } catch (e) {
          continue;
        }
      }

      if (!content) {
        readmeEl.innerHTML = '<p><strong>Unable to load README.md</strong>. If you host this viewer on GitHub Pages, the README will load correctly. See <a href="https://docs.github.com/pages/">GitHub Pages</a>.</p>';
        return;
      }

      // Render markdown -> HTML
      const html = marked.parse(content, { gfm: true, breaks: true });
      readmeEl.innerHTML = html;

      // Let MathJax typeset math
      if (window.MathJax && window.MathJax.typesetPromise) {
        window.MathJax.typesetPromise();
      }
    }
    loadReadme();
  </script>
</body>
</html>
